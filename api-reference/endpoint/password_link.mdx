---
title: 'Password-Protected Links'
openapi: 'POST /api/shorten'
---

# Password-Protected Links

`POST /api/shorten`

Create a new short link that requires a password before it can be accessed.

## Request

```json
{
  "email": "user@example.com",
  "password": "your_account_password",
  "api_key": "your_api_key",
  "url": "https://example.com/long/link",
  "link_password": "secret123"
}
````

* `link_password` *(optional)*: If provided, the generated short link will require this password before redirecting.

## Success Response

When a password-protected link is created:

```json
{
  "success": true,
  "short_url": "https://krumb.fun/abc123",
  "tokens_left": 299,
  "require_password": true
}
```

If the link already exists:

```json
{
  "success": true,
  "short_url": "https://krumb.fun/abc123",
  "already_exists": true,
  "tokens_left": 300,
  "require_password": true
}
```

If the link is created without a password, the response will include:

```json
{
  "success": true,
  "short_url": "https://krumb.fun/xyz789",
  "tokens_left": 299,
  "require_password": false
}
```

## Error Responses

* `400` – Missing fields
* `403` – Invalid credentials or out of tokens

```